<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ§ª Test Avatar Ultra-RÃ©actif - Enigma Scroll</title>
  
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      margin: 0;
      padding: 20px;
      min-height: 100vh;
    }
    
    .test-container {
      max-width: 1000px;
      margin: 0 auto;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      padding: 30px;
      backdrop-filter: blur(10px);
    }
    
    h1 {
      text-align: center;
      font-size: 2.5rem;
      margin-bottom: 10px;
      background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .subtitle {
      text-align: center;
      font-size: 1.2rem;
      margin-bottom: 30px;
      opacity: 0.9;
    }
    
    .test-section {
      background: rgba(255, 255, 255, 0.15);
      border-radius: 15px;
      padding: 20px;
      margin: 20px 0;
      border-left: 5px solid #4ecdc4;
    }
    
    .test-section h3 {
      margin-top: 0;
      color: #4ecdc4;
      font-size: 1.5rem;
    }
    
    .test-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin: 20px 0;
    }
    
    .test-button {
      background: linear-gradient(135deg, #667eea, #764ba2);
      border: none;
      color: white;
      padding: 15px 20px;
      border-radius: 10px;
      cursor: pointer;
      font-size: 1rem;
      font-weight: 600;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }
    
    .test-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
      background: linear-gradient(135deg, #5a67d8, #6b4ba0);
    }
    
    .test-button:active {
      transform: translateY(0);
    }
    
    .power-up-btn {
      background: linear-gradient(135deg, #ff6b6b, #ee5a52);
    }
    
    .power-up-btn:hover {
      background: linear-gradient(135deg, #ff5252, #e53935);
    }
    
    .score-btn {
      background: linear-gradient(135deg, #4ecdc4, #44a08d);
    }
    
    .score-btn:hover {
      background: linear-gradient(135deg, #26d0ce, #2e8b80);
    }
    
    .animation-btn {
      background: linear-gradient(135deg, #feca57, #ff9ff3);
    }
    
    .animation-btn:hover {
      background: linear-gradient(135deg, #ff9f43, #f368e0);
    }
    
    .info-box {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      padding: 15px;
      margin: 15px 0;
      border-left: 4px solid #feca57;
    }
    
    .status-display {
      text-align: center;
      font-size: 1.1rem;
      margin: 20px 0;
      padding: 15px;
      background: rgba(0, 0, 0, 0.2);
      border-radius: 10px;
    }
    
    .fake-game-elements {
      display: none;
    }
    
    .demo-keyboard {
      display: grid;
      grid-template-columns: repeat(10, 1fr);
      gap: 8px;
      max-width: 600px;
      margin: 20px auto;
    }
    
    .demo-key {
      background: rgba(255, 255, 255, 0.2);
      border: none;
      color: white;
      padding: 10px;
      border-radius: 5px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.2s ease;
    }
    
    .demo-key:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: scale(1.05);
    }
  </style>
</head>
<body>
  <!-- Ã‰lÃ©ments cachÃ©s pour simuler le jeu -->
  <div class="fake-game-elements">
    <div id="score-display">0</div>
    <div id="combo-display">1x</div>
    <div id="time-display">90</div>
    <div id="attempts-display">0/6</div>
    <div id="word-grid"></div>
    <div id="message-container"></div>
  </div>

  <div class="test-container">
    <h1>ğŸ§ª Test Avatar Ultra-RÃ©actif</h1>
    <p class="subtitle">DÃ©monstration des nouvelles capacitÃ©s ultra-rÃ©actives de l'avatar Enigma Scroll</p>
    
    <div class="status-display" id="avatar-status">
      ğŸ¤– Chargement de l'avatar... Patientez quelques secondes.
    </div>
    
    <!-- Section 1: Tests de Frappe -->
    <div class="test-section">
      <h3>âŒ¨ï¸ Tests de RÃ©actions de Frappe</h3>
      <p>Testez les nouvelles rÃ©actions aux actions de frappe et navigation</p>
      
      <div class="demo-keyboard">
        <button class="demo-key" data-key="Q">Q</button>
        <button class="demo-key" data-key="W">W</button>
        <button class="demo-key" data-key="E">E</button>
        <button class="demo-key" data-key="R">R</button>
        <button class="demo-key" data-key="T">T</button>
        <button class="demo-key" data-key="Y">Y</button>
        <button class="demo-key" data-key="U">U</button>
        <button class="demo-key" data-key="I">I</button>
        <button class="demo-key" data-key="O">O</button>
        <button class="demo-key" data-key="P">P</button>
      </div>
      
      <div class="test-grid">
        <button class="test-button" onclick="simulateTyping()">ğŸ”¤ Simuler Frappe</button>
        <button class="test-button" onclick="simulateDeletion()">â¬…ï¸ Simuler Suppression</button>
        <button class="test-button" onclick="simulateSubmission()">ğŸš€ Simuler Soumission</button>
        <button class="test-button" onclick="simulateGameStart()">ğŸ® Simuler DÃ©marrage</button>
      </div>
    </div>
    
    <!-- Section 2: Tests Power-ups -->
    <div class="test-section">
      <h3>âš¡ Tests de Power-ups</h3>
      <p>DÃ©couvrez les rÃ©actions spÃ©cifiques pour chaque type de power-up</p>
      
      <div class="test-grid">
        <button class="test-button power-up-btn" onclick="testPowerUp('hint')">ğŸ’¡ Test Hint</button>
        <button class="test-button power-up-btn" onclick="testPowerUp('skip')">â­ï¸ Test Skip</button>
        <button class="test-button power-up-btn" onclick="testPowerUp('time')">â° Test Time Boost</button>
        <button class="test-button power-up-btn" onclick="testPowerUpGeneric()">âš¡ Power-up GÃ©nÃ©rique</button>
      </div>
    </div>
    
    <!-- Section 3: Tests de Score -->
    <div class="test-section">
      <h3>ğŸ¯ Tests de RÃ©actions de Score</h3>
      <p>Observez les rÃ©actions escaladantes selon les points gagnÃ©s</p>
      
      <div class="test-grid">
        <button class="test-button score-btn" onclick="testScoreReaction(5)">+5 Points</button>
        <button class="test-button score-btn" onclick="testScoreReaction(15)">+15 Points</button>
        <button class="test-button score-btn" onclick="testScoreReaction(25)">+25 Points</button>
        <button class="test-button score-btn" onclick="testScoreReaction(50)">+50 Points</button>
        <button class="test-button score-btn" onclick="testScoreReaction(100)">+100 Points</button>
      </div>
    </div>
    
    <!-- Section 4: Tests de Combo -->
    <div class="test-section">
      <h3>ğŸ”¥ Tests de Combos</h3>
      <p>Voyez l'intensitÃ© des rÃ©actions augmenter avec les combos</p>
      
      <div class="test-grid">
        <button class="test-button score-btn" onclick="testComboReaction(1)">Combo x1</button>
        <button class="test-button score-btn" onclick="testComboReaction(2)">Combo x2</button>
        <button class="test-button score-btn" onclick="testComboReaction(3)">Combo x3</button>
        <button class="test-button score-btn" onclick="testComboReaction(5)">Combo x5</button>
        <button class="test-button score-btn" onclick="testComboReaction(10)">Combo x10</button>
      </div>
    </div>
    
    <!-- Section 5: Tests d'Animations -->
    <div class="test-section">
      <h3>ğŸ­ Tests des Nouvelles Animations</h3>
      <p>Explorez toutes les nouvelles animations expressives</p>
      
      <div class="test-grid">
        <button class="test-button animation-btn" onclick="testAnimation('physicalBounce')">ğŸ€ Bounce</button>
        <button class="test-button animation-btn" onclick="testAnimation('physicalSpin')">ğŸŒªï¸ Spin</button>
        <button class="test-button animation-btn" onclick="testAnimation('physicalWiggle')">ğŸ Wiggle</button>
        <button class="test-button animation-btn" onclick="testAnimation('physicalGlow')">âœ¨ Glow</button>
        <button class="test-button animation-btn" onclick="testAnimation('physicalFloat')">ğŸˆ Float</button>
        <button class="test-button animation-btn" onclick="testAnimation('physicalZoom')">ğŸ” Zoom</button>
        <button class="test-button animation-btn" onclick="testAnimation('physicalFlash')">âš¡ Flash</button>
        <button class="test-button animation-btn" onclick="testAnimation('physicalWave')">ğŸŒŠ Wave</button>
      </div>
    </div>
    
    <!-- Section 6: Tests de Messages -->
    <div class="test-section">
      <h3>ğŸ“¢ Tests de Messages du Jeu</h3>
      <p>Testez les rÃ©actions aux diffÃ©rents messages d'Ã©tat</p>
      
      <div class="test-grid">
        <button class="test-button" onclick="testGameMessage('Mot non valide !')">âŒ Mot Invalide</button>
        <button class="test-button" onclick="testGameMessage('Mot incomplet !')">ğŸ“ Mot Incomplet</button>
        <button class="test-button" onclick="testGameMessage('FÃ©licitations ! Mot trouvÃ© !')">ğŸ‰ Mot TrouvÃ©</button>
        <button class="test-button" onclick="testGameMessage('Temps Ã©coulÃ© !')">â° Temps Ã‰coulÃ©</button>
        <button class="test-button" onclick="testGameMessage('Nouvelle partie ! Mot de 5 lettres')">ğŸ® Nouvelle Partie</button>
      </div>
    </div>
    
    <div class="info-box">
      <strong>ğŸ’¡ Conseils de Test :</strong><br>
      â€¢ Cliquez sur les lettres du clavier virtuel pour voir les rÃ©actions de frappe<br>
      â€¢ Testez plusieurs actions rapidement pour voir le systÃ¨me anti-spam<br>
      â€¢ Observez les diffÃ©rentes durÃ©es et intensitÃ©s des rÃ©actions<br>
      â€¢ L'avatar se balade automatiquement sur la page en arriÃ¨re-plan
    </div>
    
    <div class="info-box">
      <strong>ğŸ”§ SystÃ¨me Ultra-RÃ©actif :</strong><br>
      â€¢ <strong>+120 phrases</strong> diffÃ©rentes en anglais<br>
      â€¢ <strong>19 animations</strong> expressives<br>
      â€¢ <strong>16 catÃ©gories</strong> de rÃ©actions<br>
      â€¢ <strong>DÃ©tection <300ms</strong> pour la plupart des Ã©vÃ©nements<br>
      â€¢ <strong>Communication bidirectionnelle</strong> jeu â†” avatar
    </div>
  </div>

  <!-- Scripts pour l'avatar -->
  <script src="enigma-scroll-avatar-simple.js"></script>
  <script src="../scripts/game-avatar-integration.js" defer></script>
  
  <script>
    // Attendre le chargement de l'avatar
    setTimeout(() => {
      if (window.enigmaAvatar) {
        document.getElementById('avatar-status').innerHTML = 'âœ… Avatar chargÃ© ! Tous les tests sont prÃªts.';
      } else {
        document.getElementById('avatar-status').innerHTML = 'âŒ Erreur de chargement de l\'avatar. VÃ©rifiez la console.';
      }
    }, 3000);
    
    // Fonctions de test pour l'interface
    function simulateTyping() {
      const letters = ['H', 'E', 'L', 'L', 'O'];
      letters.forEach((letter, index) => {
        setTimeout(() => {
          if (window.enigmaAvatar) {
            window.enigmaAvatar.reactToKeyboardClick(letter);
          }
        }, index * 300);
      });
    }
    
    function simulateDeletion() {
      if (window.enigmaAvatar) {
        window.enigmaAvatar.reactToLetterDeletion();
      }
    }
    
    function simulateSubmission() {
      if (window.enigmaAvatar) {
        window.enigmaAvatar.reactToWordSubmission();
      }
    }
    
    function simulateGameStart() {
      if (window.enigmaAvatar) {
        window.enigmaAvatar.reactToGameStart();
      }
    }
    
    function testPowerUp(type) {
      if (window.enigmaAvatar) {
        window.enigmaAvatar.reactToPowerUp(type);
      }
    }
    
    function testPowerUpGeneric() {
      if (window.enigmaAvatar) {
        window.enigmaAvatar.reactToPowerUp('generic');
      }
    }
    
    function testScoreReaction(points) {
      if (window.enigmaAvatar) {
        window.enigmaAvatar.reactToScoreIncrease(points);
      }
    }
    
    function testComboReaction(combo) {
      if (window.enigmaAvatar) {
        window.enigmaAvatar.reactToCombo(combo);
      }
    }
    
    function testAnimation(animationType) {
      if (window.enigmaAvatar) {
        window.enigmaAvatar.playAnimation(animationType);
      }
    }
    
    function testGameMessage(message) {
      if (window.enigmaAvatar) {
        window.enigmaAvatar.reactToGameMessage(message);
      }
    }
    
    // Ã‰couteurs pour le clavier virtuel de dÃ©mo
    document.querySelectorAll('.demo-key').forEach(key => {
      key.addEventListener('click', function() {
        const letter = this.getAttribute('data-key');
        if (window.enigmaAvatar) {
          window.enigmaAvatar.reactToKeyboardClick(letter);
        }
      });
    });
    
    // Test automatique alÃ©atoire
    function randomTest() {
      const tests = [
        () => simulateTyping(),
        () => testScoreReaction(Math.floor(Math.random() * 50) + 10),
        () => testComboReaction(Math.floor(Math.random() * 5) + 1),
        () => testPowerUp(['hint', 'skip', 'time'][Math.floor(Math.random() * 3)]),
        () => testAnimation(['physicalBounce', 'physicalSpin', 'physicalGlow', 'physicalFloat'][Math.floor(Math.random() * 4)])
      ];
      
      const randomTestFunc = tests[Math.floor(Math.random() * tests.length)];
      randomTestFunc();
    }
    
    // Lancer un test alÃ©atoire toutes les 10 secondes
    setInterval(() => {
      if (Math.random() < 0.3) { // 30% de chance
        randomTest();
      }
    }, 10000);
    
    console.log('ğŸ§ª Page de test Avatar Ultra-RÃ©actif chargÃ©e !');
    console.log('ğŸ¯ Testez toutes les nouvelles fonctionnalitÃ©s avec les boutons ci-dessus.');
  </script>
</body>
</html> 