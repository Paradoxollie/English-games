/**
 * Données de verbes simplifiées pour Speed Verb Challenge
 * Version autonome pour éviter les dépendances
 */

window.verbDataSimple = {
    "be": {
        "infinitive": "be",
        "preterit": "was/were",
        "pastParticiple": "been",
        "translation": "être",
        "difficulty": "easy"
    },
    "have": {
        "infinitive": "have",
        "preterit": "had",
        "pastParticiple": "had",
        "translation": "avoir",
        "difficulty": "easy"
    },
    "do": {
        "infinitive": "do",
        "preterit": "did",
        "pastParticiple": "done",
        "translation": "faire",
        "difficulty": "easy"
    },
    "go": {
        "infinitive": "go",
        "preterit": "went",
        "pastParticiple": "gone",
        "translation": "aller",
        "difficulty": "easy"
    },
    "get": {
        "infinitive": "get",
        "preterit": "got",
        "pastParticiple": "got/gotten",
        "translation": "obtenir",
        "difficulty": "easy"
    },
    "make": {
        "infinitive": "make",
        "preterit": "made",
        "pastParticiple": "made",
        "translation": "faire/fabriquer",
        "difficulty": "easy"
    },
    "take": {
        "infinitive": "take",
        "preterit": "took",
        "pastParticiple": "taken",
        "translation": "prendre",
        "difficulty": "easy"
    },
    "come": {
        "infinitive": "come",
        "preterit": "came",
        "pastParticiple": "come",
        "translation": "venir",
        "difficulty": "easy"
    },
    "see": {
        "infinitive": "see",
        "preterit": "saw",
        "pastParticiple": "seen",
        "translation": "voir",
        "difficulty": "easy"
    },
    "know": {
        "infinitive": "know",
        "preterit": "knew",
        "pastParticiple": "known",
        "translation": "savoir/connaître",
        "difficulty": "easy"
    },
    "think": {
        "infinitive": "think",
        "preterit": "thought",
        "pastParticiple": "thought",
        "translation": "penser",
        "difficulty": "medium"
    },
    "say": {
        "infinitive": "say",
        "preterit": "said",
        "pastParticiple": "said",
        "translation": "dire",
        "difficulty": "easy"
    },
    "give": {
        "infinitive": "give",
        "preterit": "gave",
        "pastParticiple": "given",
        "translation": "donner",
        "difficulty": "medium"
    },
    "find": {
        "infinitive": "find",
        "preterit": "found",
        "pastParticiple": "found",
        "translation": "trouver",
        "difficulty": "easy"
    },
    "tell": {
        "infinitive": "tell",
        "preterit": "told",
        "pastParticiple": "told",
        "translation": "dire/raconter",
        "difficulty": "easy"
    },
    "become": {
        "infinitive": "become",
        "preterit": "became",
        "pastParticiple": "become",
        "translation": "devenir",
        "difficulty": "medium"
    },
    "leave": {
        "infinitive": "leave",
        "preterit": "left",
        "pastParticiple": "left",
        "translation": "partir/laisser",
        "difficulty": "easy"
    },
    "feel": {
        "infinitive": "feel",
        "preterit": "felt",
        "pastParticiple": "felt",
        "translation": "sentir/ressentir",
        "difficulty": "easy"
    },
    "bring": {
        "infinitive": "bring",
        "preterit": "brought",
        "pastParticiple": "brought",
        "translation": "apporter",
        "difficulty": "medium"
    },
    "begin": {
        "infinitive": "begin",
        "preterit": "began",
        "pastParticiple": "begun",
        "translation": "commencer",
        "difficulty": "medium"
    },
    "keep": {
        "infinitive": "keep",
        "preterit": "kept",
        "pastParticiple": "kept",
        "translation": "garder",
        "difficulty": "easy"
    },
    "hold": {
        "infinitive": "hold",
        "preterit": "held",
        "pastParticiple": "held",
        "translation": "tenir",
        "difficulty": "easy"
    },
    "write": {
        "infinitive": "write",
        "preterit": "wrote",
        "pastParticiple": "written",
        "translation": "écrire",
        "difficulty": "medium"
    },
    "stand": {
        "infinitive": "stand",
        "preterit": "stood",
        "pastParticiple": "stood",
        "translation": "se tenir debout",
        "difficulty": "easy"
    },
    "hear": {
        "infinitive": "hear",
        "preterit": "heard",
        "pastParticiple": "heard",
        "translation": "entendre",
        "difficulty": "easy"
    },
    "let": {
        "infinitive": "let",
        "preterit": "let",
        "pastParticiple": "let",
        "translation": "laisser/permettre",
        "difficulty": "easy"
    },
    "mean": {
        "infinitive": "mean",
        "preterit": "meant",
        "pastParticiple": "meant",
        "translation": "signifier",
        "difficulty": "easy"
    },
    "set": {
        "infinitive": "set",
        "preterit": "set",
        "pastParticiple": "set",
        "translation": "placer/fixer",
        "difficulty": "easy"
    },
    "meet": {
        "infinitive": "meet",
        "preterit": "met",
        "pastParticiple": "met",
        "translation": "rencontrer",
        "difficulty": "easy"
    },
    "run": {
        "infinitive": "run",
        "preterit": "ran",
        "pastParticiple": "run",
        "translation": "courir",
        "difficulty": "medium"
    },
    "move": {
        "infinitive": "move",
        "preterit": "moved",
        "pastParticiple": "moved",
        "translation": "bouger",
        "difficulty": "easy"
    },
    "live": {
        "infinitive": "live",
        "preterit": "lived",
        "pastParticiple": "lived",
        "translation": "vivre",
        "difficulty": "easy"
    },
    "believe": {
        "infinitive": "believe",
        "preterit": "believed",
        "pastParticiple": "believed",
        "translation": "croire",
        "difficulty": "easy"
    },
    "speak": {
        "infinitive": "speak",
        "preterit": "spoke",
        "pastParticiple": "spoken",
        "translation": "parler",
        "difficulty": "medium"
    },
    "read": {
        "infinitive": "read",
        "preterit": "read",
        "pastParticiple": "read",
        "translation": "lire",
        "difficulty": "medium"
    },
    "spend": {
        "infinitive": "spend",
        "preterit": "spent",
        "pastParticiple": "spent",
        "translation": "dépenser",
        "difficulty": "easy"
    },
    "grow": {
        "infinitive": "grow",
        "preterit": "grew",
        "pastParticiple": "grown",
        "translation": "grandir/pousser",
        "difficulty": "medium"
    },
    "lose": {
        "infinitive": "lose",
        "preterit": "lost",
        "pastParticiple": "lost",
        "translation": "perdre",
        "difficulty": "easy"
    },
    "send": {
        "infinitive": "send",
        "preterit": "sent",
        "pastParticiple": "sent",
        "translation": "envoyer",
        "difficulty": "easy"
    },
    "build": {
        "infinitive": "build",
        "preterit": "built",
        "pastParticiple": "built",
        "translation": "construire",
        "difficulty": "medium"
    },
    "fall": {
        "infinitive": "fall",
        "preterit": "fell",
        "pastParticiple": "fallen",
        "translation": "tomber",
        "difficulty": "medium"
    },
    "cut": {
        "infinitive": "cut",
        "preterit": "cut",
        "pastParticiple": "cut",
        "translation": "couper",
        "difficulty": "easy"
    },
    "break": {
        "infinitive": "break",
        "preterit": "broke",
        "pastParticiple": "broken",
        "translation": "casser",
        "difficulty": "medium"
    },
    "eat": {
        "infinitive": "eat",
        "preterit": "ate",
        "pastParticiple": "eaten",
        "translation": "manger",
        "difficulty": "medium"
    },
    "draw": {
        "infinitive": "draw",
        "preterit": "drew",
        "pastParticiple": "drawn",
        "translation": "dessiner",
        "difficulty": "medium"
    },
    "buy": {
        "infinitive": "buy",
        "preterit": "bought",
        "pastParticiple": "bought",
        "translation": "acheter",
        "difficulty": "medium"
    },
    "wear": {
        "infinitive": "wear",
        "preterit": "wore",
        "pastParticiple": "worn",
        "translation": "porter (vêtement)",
        "difficulty": "medium"
    },
    "choose": {
        "infinitive": "choose",
        "preterit": "chose",
        "pastParticiple": "chosen",
        "translation": "choisir",
        "difficulty": "medium"
    },
    "drive": {
        "infinitive": "drive",
        "preterit": "drove",
        "pastParticiple": "driven",
        "translation": "conduire",
        "difficulty": "medium"
    },
    "fight": {
        "infinitive": "fight",
        "preterit": "fought",
        "pastParticiple": "fought",
        "translation": "se battre",
        "difficulty": "medium"
    },
    "fly": {
        "infinitive": "fly",
        "preterit": "flew",
        "pastParticiple": "flown",
        "translation": "voler",
        "difficulty": "medium"
    },
    "forget": {
        "infinitive": "forget",
        "preterit": "forgot",
        "pastParticiple": "forgotten",
        "translation": "oublier",
        "difficulty": "medium"
    },
    "hide": {
        "infinitive": "hide",
        "preterit": "hid",
        "pastParticiple": "hidden",
        "translation": "cacher",
        "difficulty": "medium"
    },
    "ride": {
        "infinitive": "ride",
        "preterit": "rode",
        "pastParticiple": "ridden",
        "translation": "monter (cheval/vélo)",
        "difficulty": "hard"
    },
    "sing": {
        "infinitive": "sing",
        "preterit": "sang",
        "pastParticiple": "sung",
        "translation": "chanter",
        "difficulty": "medium"
    },
    "swim": {
        "infinitive": "swim",
        "preterit": "swam",
        "pastParticiple": "swum",
        "translation": "nager",
        "difficulty": "hard"
    },
    "teach": {
        "infinitive": "teach",
        "preterit": "taught",
        "pastParticiple": "taught",
        "translation": "enseigner",
        "difficulty": "medium"
    },
    "throw": {
        "infinitive": "throw",
        "preterit": "threw",
        "pastParticiple": "thrown",
        "translation": "lancer",
        "difficulty": "medium"
    },
    "win": {
        "infinitive": "win",
        "preterit": "won",
        "pastParticiple": "won",
        "translation": "gagner",
        "difficulty": "easy"
    },
    "catch": {
        "infinitive": "catch",
        "preterit": "caught",
        "pastParticiple": "caught",
        "translation": "attraper",
        "difficulty": "medium"
    },
    "sell": {
        "infinitive": "sell",
        "preterit": "sold",
        "pastParticiple": "sold",
        "translation": "vendre",
        "difficulty": "easy"
    },
    "sleep": {
        "infinitive": "sleep",
        "preterit": "slept",
        "pastParticiple": "slept",
        "translation": "dormir",
        "difficulty": "easy"
    },
    "steal": {
        "infinitive": "steal",
        "preterit": "stole",
        "pastParticiple": "stolen",
        "translation": "voler (dérober)",
        "difficulty": "hard"
    },
    "wake": {
        "infinitive": "wake",
        "preterit": "woke",
        "pastParticiple": "woken",
        "translation": "réveiller",
        "difficulty": "medium"
    }
};

// Fonction pour obtenir un verbe aléatoire
window.getRandomVerb = function() {
    const verbs = Object.keys(window.verbDataSimple);
    const randomIndex = Math.floor(Math.random() * verbs.length);
    const verbKey = verbs[randomIndex];
    return {
        key: verbKey,
        ...window.verbDataSimple[verbKey]
    };
};

// Fonction pour vérifier une réponse
window.checkVerbAnswer = function(verb, userAnswers, difficulty) {
    const correctAnswers = window.verbDataSimple[verb];
    if (!correctAnswers) return false;

    let allCorrect = true;
    const results = {};

    // Vérifier selon la difficulté
    if (difficulty >= 1) {
        // Prétérit
        const userPreterit = userAnswers.preterit?.toLowerCase().trim();
        const correctPreterit = correctAnswers.preterit.toLowerCase();
        results.preterit = userPreterit === correctPreterit || 
                           correctPreterit.includes('/') && correctPreterit.split('/').some(form => form.trim() === userPreterit);
        if (!results.preterit) allCorrect = false;
    }

    if (difficulty >= 2) {
        // Participe passé
        const userPastParticiple = userAnswers.pastParticiple?.toLowerCase().trim();
        const correctPastParticiple = correctAnswers.pastParticiple.toLowerCase();
        results.pastParticiple = userPastParticiple === correctPastParticiple ||
                                 correctPastParticiple.includes('/') && correctPastParticiple.split('/').some(form => form.trim() === userPastParticiple);
        if (!results.pastParticiple) allCorrect = false;
    }

    if (difficulty >= 3) {
        // Traduction
        const userTranslation = userAnswers.translation?.toLowerCase().trim();
        const correctTranslation = correctAnswers.translation.toLowerCase();
        results.translation = userTranslation === correctTranslation ||
                              correctTranslation.includes('/') && correctTranslation.split('/').some(form => form.trim() === userTranslation);
        if (!results.translation) allCorrect = false;
    }

    return {
        correct: allCorrect,
        results: results,
        correctAnswers: correctAnswers
    };
};

console.log('✅ Données de verbes simplifiées chargées:', Object.keys(window.verbDataSimple).length, 'verbes'); 