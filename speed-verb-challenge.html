<!DOCTYPE html>
<html lang="fr">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-RMCQTMKDVP"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-RMCQTMKDVP');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Speed Verb Challenge - Ma√Ætrisez les verbes irr√©guliers anglais dans cette exp√©rience RPG immersive">
    <title>Speed Verb Challenge | English Quest</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;800&family=MedievalSharp&display=swap" rel="stylesheet">
    
    <!-- Base styles -->
    <link href="./dist/output.css" rel="stylesheet">
    <link href="./src/styles/layout.css" rel="stylesheet">
    
    <!-- Game-specific styles -->
    <link href="./src/styles/speed-verb-challenge.css" rel="stylesheet">
    <link href="./src/styles/button-fix.css" rel="stylesheet">
    <link href="./src/styles/mmorpg-enhanced.css" rel="stylesheet">
    
    <!-- Three.js -->
    <script async src="https://cdn.jsdelivr.net/npm/three@0.132.2/build/three.min.js"></script>
</head>
<body class="game-body">
    <!-- Navigation -->
    <nav class="game-nav">
        <a href="index.html" class="nav-logo">
            <img src="./images/logo.gif" alt="English Quest" width="80" height="80">
        </a>
        <div class="nav-links">
            <a href="index.html">Accueil</a>
            <a href="all-games.html" class="active">Jeux</a>
            <a href="courses.html">Cours</a>
            <a href="leaderboard.html">Classement</a>
            <a href="contact.html">Contact</a>
            </div>
        </nav>

    <!-- Game container -->
    <div class="game-universe">
        <!-- 3D background elements -->
        <div id="bg-scene"></div>
        
        <!-- Floating runes -->
        <div class="floating-runes"></div>
        
        <!-- Game UI -->
        <main class="game-interface">
            <!-- Game header -->
            <header class="game-header">
                <h1 class="game-title">Speed Verb Challenge</h1>
                <p class="game-subtitle">Ma√Ætrisez les sorts anciens du <span class="magic-text">Lexicon Arcanum</span></p>
    </header>

            <!-- Game sections -->
            <div class="game-sections">
                <!-- Left panel: Rules & Leaderboard -->
                <section class="game-panel rules-panel">
                    <div class="panel-content">
                        <h2 class="panel-title">La Qu√™te</h2>
                        <div class="quest-scroll">
                            <div class="quest-description">
                                <p><span class="drop-cap">B</span>rave lanceur de sorts, vous vous tenez devant l'<span class="highlight-text">√âpreuve des Verbes</span>, un d√©fi ancestral qui a mis √† l'√©preuve les plus dignes linguistes arcanes depuis des √©ons.</p>
                                
                                <h3>Votre Mission</h3>
                                <p>Conjuguez correctement les sorts de verbes qui apparaissent depuis le portail arcanique. Chaque incantation correcte renforce vos pouvoirs magiques et vous rapporte des points d'essence.</p>
                                
                                <h3>Les R√®gles</h3>
                                <ul>
                                    <li class="rule-item">
                                        <span class="rule-icon animated-icon">‚è≥</span>
                                        <div class="rule-content">
                                            <h4 class="rule-title">Temps Limit√©</h4>
                                            <p>Votre magie ne dure que <span class="highlight-text">90 secondes</span>. Utilisez-les sagement.</p>
                                        </div>
                                    </li>
                                    
                                    <li class="rule-item">
                                        <span class="rule-icon animated-icon">üéØ</span>
                                        <div class="rule-content">
                                            <h4 class="rule-title">Voies Arcaniques</h4>
                                            <p>Choisissez une des voies suivantes:</p>
                                            <ul class="sub-rules">
                                                <li><span class="path-text">Voie de l'Apprenti ‚öîÔ∏è:</span> Conjuration du Pass√© Simple uniquement (1 point d'essence)</li>
                                                <li><span class="path-text">Voie de l'Adepte ‚öîÔ∏è‚öîÔ∏è:</span> Invocation du Participe Pass√© uniquement (2 points d'essence)</li>
                                                <li><span class="path-text">Voie du Ma√Ætre ‚öîÔ∏è‚öîÔ∏è‚öîÔ∏è:</span> Enchantement complet du verbe - les deux formes (3 points d'essence)</li>
                                            </ul>
                                        </div>
                                    </li>
                                    
                                    <li class="rule-item">
                                        <span class="rule-icon animated-icon">üîÑ</span>
                                        <div class="rule-content">
                                            <h4 class="rule-title">Bannissement</h4>
                                            <p>Vous pouvez bannir les sorts difficiles, mais <span class="warning-text">aucune essence n'est r√©colt√©e</span> pour ces sorts.</p>
                                        </div>
                                    </li>
                                </ul>
                                
                                <h3>R√©compenses</h3>
                                <p>Encha√Ænez les sorts corrects pour construire des <span class="highlight-text">combos arcaniques</span> ! Chaque incantation correcte cons√©cutive amplifie votre multiplicateur d'essence.</p>
                                <p>Montez en niveau pour prolonger votre temps et d√©bloquer des <span class="highlight-text">capacit√©s sp√©ciales</span> !</p>
                                
                                <div class="special-powers">
                                    <div class="power-item">
                                        <div class="power-icon">üîÆ</div>
                                        <div class="power-name">Dilatation Temporelle</div>
                                        <div class="power-desc">Niveau 2 : +10 secondes</div>
                                    </div>
                                    <div class="power-item">
                                        <div class="power-icon">‚ú®</div>
                                        <div class="power-name">Amplificateur d'Essence</div>
                                        <div class="power-desc">Niveau 3 : +0.2 au multiplicateur</div>
                                    </div>
                                    <div class="power-item">
                                        <div class="power-icon">üåü</div>
                                        <div class="power-name">R√©cup√©ration de Sort</div>
                                        <div class="power-desc">Niveau 5 : seconde chance</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="leaderboard-container">
                            <h2 class="panel-title">L√©gendes Arcaniques</h2>
                            <div class="leaderboard-scroll">
                                <table class="leaderboard-table">
                                    <thead>
                                        <tr>
                                            <th>Rang</th>
                                            <th>Lanceur de sorts</th>
                                            <th>Essence</th>
                                            <th>Date</th>
                                        </tr>
                                    </thead>
                                    <tbody id="leaderboard-body">
                                        <!-- Leaderboard entries will be loaded here -->
                                        <tr class="loading-row">
                                            <td colspan="4"><span class="loading-text">Invocation des archives ancestrales<span class="loading-dots">...</span></span></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- Right panel: Game area -->
                <section class="game-panel gameplay-panel">
                    <div class="panel-content">
                        <!-- Game state: start -->
                        <div id="game-start" class="game-state active">
                            <h2 class="panel-title">Pr√©parez Vos Incantations</h2>
                            
                            <div class="difficulty-selection">
                                <h3>S√©lectionnez votre voie arcanique :</h3>
                                <div class="difficulty-options">
                                    <label class="difficulty-option">
                                        <input type="radio" name="difficulty" value="1" checked>
                                        <span class="option-content">
                                            <span class="option-title">Voie de l'Apprenti</span>
                                            <span class="option-description">Pass√© Simple uniquement</span>
                                            <span class="option-reward">1 point d'essence par sort</span>
                                            <span class="difficulty-rune">·ö†</span>
                                        </span>
                                    </label>
                                    
                                    <label class="difficulty-option">
                                        <input type="radio" name="difficulty" value="2">
                                        <span class="option-content">
                                            <span class="option-title">Voie de l'Adepte</span>
                                            <span class="option-description">Participe Pass√© uniquement</span>
                                            <span class="option-reward">2 points d'essence par sort</span>
                                            <span class="difficulty-rune">·ö¶</span>
                                        </span>
                                    </label>
                                    
                                    <label class="difficulty-option">
                                        <input type="radio" name="difficulty" value="3">
                                        <span class="option-content">
                                            <span class="option-title">Voie du Ma√Ætre</span>
                                            <span class="option-description">Les deux formes requises</span>
                                            <span class="option-reward">3 points d'essence par sort</span>
                                            <span class="difficulty-rune">·õü</span>
                                        </span>
                                    </label>
                                </div>
                            </div>
                            
                            <button id="start-game-btn" class="game-button primary-button">
                                <span class="button-glow"></span>
                                <span class="button-text">D√©buter l'√âpreuve</span>
                                <span class="button-runes">·ö±·ö¢·öæ·õñ·õã</span>
                            </button>
                        </div>
                        
                        <!-- Game state: playing -->
                        <div id="game-playing" class="game-state">
                            <!-- HUD -->
                            <div class="game-hud">
                                <div class="hud-item">
                                    <div class="hud-label">Niveau</div>
                                    <div id="player-level" class="hud-value">1</div>
                                </div>
                                
                                <div class="hud-item">
                                    <div class="hud-label">Essence</div>
                                    <div id="player-score" class="hud-value">0</div>
                                </div>
                                
                                <div class="hud-item">
                                    <div class="hud-label">Temps</div>
                                    <div id="time-left" class="hud-value">90</div>
                                </div>
                                
                                <div class="hud-item">
                                    <div class="hud-label">Multiplicateur</div>
                                    <div id="combo-multiplier" class="hud-value">x1.0</div>
                                </div>
                            </div>
                            
                            <!-- XP Bar -->
                            <div class="xp-bar-container">
                                <div class="xp-bar-label">√ânergie Arcanique</div>
                                <div class="xp-bar">
                                    <div id="xp-progress" class="xp-bar-fill"></div>
                                </div>
                            </div>
                            
                            <!-- Verb challenge -->
                            <div class="verb-challenge">
                                <div class="verb-card">
                                    <div class="verb-info">
                                        <div class="verb-prompt">Lancez le sort de :</div>
                                        <div id="current-verb" class="verb-display floating-verb">begin</div>
                                        <div id="verb-translation" class="verb-translation">(commencer)</div>
        </div>

                                    <div id="verb-form-inputs" class="verb-inputs">
                                        <!-- Inputs will be generated based on difficulty -->
                                    </div>
                                    
                                    <!-- Verb actions -->
                                    <div class="verb-actions">
                                        <button id="check-answer-btn" class="game-button action-button">
                                            <span class="button-text">Lancer le Sort</span>
                                            <span class="action-icon">‚ú¶</span>
                                        </button>
                                        
                                        <button id="skip-verb-btn" class="game-button secondary-button">
                                            <span class="button-text">Bannir</span>
                                            <span class="action-icon">‚úß</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Feedback message -->
                            <div id="feedback-message" class="feedback-message"></div>
        </div>
        
                        <!-- Game state: game over -->
                        <div id="game-over" class="game-state">
                            <h2 class="panel-title">√ânergie Arcanique √âpuis√©e</h2>
                            
                            <div class="results-container">
                                <div class="final-score">
                                    <div class="score-label">Essence Collect√©e</div>
                                    <div id="final-score-value" class="score-value">0</div>
                                </div>
                                
                                <div class="stats-container">
                                    <div class="stat-item">
                                        <div class="stat-label">Niveau Atteint</div>
                                        <div id="final-level" class="stat-value">1</div>
                </div>

                                    <div class="stat-item">
                                        <div class="stat-label">Sorts Lanc√©s</div>
                                        <div id="verbs-completed" class="stat-value">0</div>
                                    </div>
                                    
                                    <div class="stat-item">
                                        <div class="stat-label">Meilleur Combo</div>
                                        <div id="highest-combo" class="stat-value">x1.0</div>
            </div>
        </div>

                                <div class="name-entry">
                                    <label for="player-name">Inscrivez votre nom dans les Annales Arcaniques :</label>
                                    <input type="text" id="player-name" class="name-input" maxlength="15" placeholder="Votre nom">
        </div>

                                <div class="game-over-actions">
                                    <button id="save-score-btn" class="game-button primary-button">
                                        <span class="button-glow"></span>
                                        <span class="button-text">Inscrire</span>
                                        <span class="button-runes">·ö±·ö¢·öæ·õñ·õã</span>
                                    </button>
                                    
                                    <button id="play-again-btn" class="game-button secondary-button">
                                        <span class="button-text">Nouveau Rituel</span>
                                        <span class="button-runes">·ö±·ö¢·öæ·õñ·õã</span>
                                    </button>
                                </div>
                </div>
            </div>
        </div>
                </section>
            </div>
        </main>
        
        <!-- 3D Floating Objects -->
        <div id="floating-objects-container"></div>
        
        <!-- Achievement notifications -->
        <div id="achievements-container"></div>
        
        <!-- Particle effects container -->
        <div id="particles-container"></div>
        
        <!-- Magic portal effect -->
        <div id="magic-portal"></div>
    </div>
    
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="./src/js/firebase-polyfill.js"></script>
    <script src="firebase-init.js"></script>

    <!-- Game scripts -->
    <script src="./src/js/verb-data.js"></script>
    <script src="./src/js/game-effects.js"></script>
    <script src="./src/js/consolidated-fix.js"></script>
    <script src="visit-counter.js"></script>
</body>
</html>