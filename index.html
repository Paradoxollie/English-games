<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="English Quest - Learn English through interactive games and courses">
    
    <!-- Polices -->
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link href="./dist/output.css" rel="stylesheet">
    <link href="./src/styles/layout.css" rel="stylesheet">
    <link href="./src/styles/fonts.css" rel="stylesheet">
    <link href="./src/styles/transitions.css" rel="stylesheet">
    <link href="./src/styles/colors.css" rel="stylesheet">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="./favicon.ico">
    
    <!-- Firebase CDN -->
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-analytics.js"></script>
</head>
<body class="bg-quest-pattern" style="background-image: url('./images/background.webp');">
    <!-- Header -->
    <header class="site-header">
        <div class="logo-container">
            <img src="./images/logo.gif" alt="English Quest Logo" class="w-64 h-auto">
        </div>
        
        <nav class="main-nav">
            <div class="container mx-auto px-4 py-3 flex items-center justify-center space-x-8">
                <a href="./all-games.html" class="nav-link">Games</a>
                <a href="./courses.html" class="nav-link">Courses</a>
                <a href="./leaderboard.html" class="nav-link">Leaderboard</a>
                <a href="./contact.html" class="nav-link">Contact</a>
            </div>
            
            <!-- Mobile Menu Button -->
            <button id="mobile-menu-button" class="md:hidden" aria-label="Menu">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                </svg>
            </button>
        </nav>
        
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden">
            <!-- Mobile menu content will be injected by JavaScript -->
        </div>
    </header>

    <!-- Main Content -->
    <main class="min-h-screen pt-32">
        <!-- Hero Section -->
        <div class="quest-panel max-w-2xl mx-auto mb-16">
            <h1 class="text-5xl font-bold mb-6 glow-text">
                <span class="text-white">ENGLISH</span>
                <span class="text-quest-gold">QUEST</span>
            </h1>
            <p class="text-xl text-gray-300">Choose your path to mastery!</p>
        </div>

        <!-- Games Section -->
        <section class="quest-panel max-w-7xl mx-auto mb-16 px-4">
            <div class="section-header mb-8 text-center">
                <h2 class="section-title text-4xl font-medieval mb-3">Available Quests</h2>
                <p class="text-quest-gold/70 text-lg">Select your challenge and prove your worth</p>
            </div>
            <div id="game-carousel" class="relative">
                <div id="game-display" class="flex justify-center items-center min-h-[500px]">
                    <!-- Un seul jeu sera affich√© ici -->
                </div>
                <div class="flex justify-center mt-4 gap-4">
                </div>
            </div>
        </section>

        <!-- Courses Section -->
        <section class="quest-panel max-w-7xl mx-auto mb-16 px-4">
            <div class="section-header mb-8 text-center">
                <h2 class="section-title text-4xl font-medieval mb-3">Training Grounds</h2>
                <p class="text-quest-gold/70 text-lg">Master the fundamentals of the English arts</p>
            </div>
            <div id="course-carousel" class="relative">
                <div id="course-display" class="flex justify-center items-center min-h-[500px]">
                    <!-- Un seul cours sera affich√© ici -->
                </div>
                <div class="flex justify-center mt-4 gap-4">
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="quest-footer">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <h3 class="text-quest-gold text-lg font-medieval mb-4">About Us</h3>
                    <p class="text-gray-300">
                        English Quest is dedicated to making language learning fun and effective through interactive games.
                    </p>
                </div>
                <div>
                    <h3 class="text-quest-gold text-lg font-medieval mb-4">Quick Links</h3>
                    <ul class="space-y-2">
                        <li><a href="./all-games.html" class="footer-link">All Games</a></li>
                        <li><a href="./courses.html" class="footer-link">Courses</a></li>
                        <li><a href="./leaderboard.html" class="footer-link">Leaderboard</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-quest-gold text-lg font-medieval mb-4">Contact</h3>
                    <ul class="space-y-2">
                        <li><a href="./contact.html" class="footer-link">Contact Us</a></li>
                        <li><a href="#" class="footer-link">Privacy Policy</a></li>
                        <li><a href="#" class="footer-link">Terms of Service</a></li>
                    </ul>
                </div>
            </div>
            <div class="visitor-counter text-center mb-4">
                <p class="text-quest-gold">Visitors: <span id="visitor-count" class="font-bold">Loading...</span></p>
            </div>
            <div class="mt-8 pt-8 border-t border-quest-gold/30 text-center">
                <p class="text-gray-400">&copy; 2024 English Quest. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script>
        // Donn√©es des jeux
        const games = [
            {
                title: "Speed Verb Challenge",
                description: "Test your knowledge of irregular verbs! Type as many verbs as you can in 90 seconds!",
                image: "./images/speed-challenge.webp",
                url: "./speed-verb-challenge.html",
                difficulty: "legendary",
                tags: ["Verbs", "Time Trial", "Grammar"],
                icon: "‚öîÔ∏è"
            },
            {
                title: "Enigma Scroll",
                description: "Uncover the mysteries of the enchanted scroll! Test your English skills by solving magical word puzzles!",
                image: "./images/enigma-scroll.webp",
                url: "./enigma-scroll.html",
                difficulty: "epic",
                tags: ["Puzzles", "Vocabulary", "Adventure"],
                icon: "üìú"
            },
            {
                title: "Word Bubbles",
                description: "Challenge your typing and vocabulary skills! Type the correct words as they fall before time runs out.",
                image: "./images/word-bubbles.webp",
                url: "./word-bubbles.html",
                difficulty: "rare",
                tags: ["Typing", "Speed", "Vocabulary"],
                icon: "ü´ß"
            },
            {
                title: "Whisper Trials",
                description: "Recognize the enchanted words whispered in diverse accents and level up your skills.",
                image: "./images/whisper-trials.webp",
                url: "./whisper-trials.html",
                difficulty: "epic",
                tags: ["Listening", "Pronunciation", "Accents"],
                icon: "üëÇ"
            },
            {
                title: "Fill in the Gaps",
                description: "Obtain great power by matching words and definitions",
                image: "./images/matrix-game.webp",
                url: "./memory-matrix.html",
                difficulty: "rare",
                tags: ["Matching", "Definitions", "Vocabulary"],
                icon: "üéØ"
            },
            {
                title: "Word Memory Game",
                description: "Test your memory skills by remembering and recalling English words!",
                image: "./images/word-memory-game.webp",
                url: "./word-memory.html",
                difficulty: "common",
                tags: ["Memory", "Vocabulary", "Recall"],
                icon: "üß†"
            },
            {
                title: "Lost in Migration",
                description: "Catch the intruder! Test your English skills by identifying the odd word out!",
                image: "./images/lost-in-migration.webp",
                url: "./lost-migration.html",
                difficulty: "epic",
                tags: ["Vocabulary", "Logic", "Categories"],
                icon: "ü¶Ö"
            },
            {
                title: "Brew Your Words",
                description: "Serve customers in this challenging word game! Get the right translations under pressure!",
                image: "./images/brew-your-words.webp",
                url: "./brew-words.html",
                difficulty: "legendary",
                tags: ["Translation", "Time Management", "Vocabulary"],
                icon: "‚òï"
            },
            {
                title: "Echoes of Lexicon",
                description: "Explore les myst√®res d'un parchemin ancien ! Trouve des mots en utilisant les lettres affich√©es!",
                image: "./images/echoes-lexicon.webp",
                url: "./lexicon.html",
                difficulty: "legendary",
                tags: ["Word Formation", "Vocabulary", "Puzzle"],
                icon: "üìñ"
            }
        ];

        // Donn√©es des cours
        const courses = [
            {
                title: "The Conditional",
                description: "Master the different forms and usage of the conditional with this comprehensive guide.",
                image: "./images/conditionnel-course.webp",
                url: "./conditional-course.html",
                level: "advanced",
                tags: ["Grammar", "Advanced", "Conditional"],
                icon: "üéØ"
            },
            {
                title: "The Superlative",
                description: "Learn the art of comparison and reach the pinnacle of excellence with superlatives.",
                image: "./images/superlative.webp",
                url: "./superlative.html",
                level: "intermediate",
                tags: ["Grammar", "Comparison", "Superlative"],
                icon: "üìä"
            },
            {
                title: "Comparative",
                description: "Face off against fierce grammar guardians and claim your place as the true Grammar Champion.",
                image: "./images/comparative.webp",
                url: "./comparative.html",
                level: "intermediate",
                tags: ["Grammar", "Comparison", "Comparative"],
                icon: "‚öñÔ∏è"
            },
            {
                title: "Since and For",
                description: "Prove your worth as the ultimate Time Master in the realm of English.",
                image: "./images/for-since.webp",
                url: "./for-and-since.html",
                level: "intermediate",
                tags: ["Time", "Duration", "Prepositions"],
                icon: "‚è≥"
            },
            {
                title: "Modals Mastery",
                description: "Devenez le Ma√Ætre des Arcanes Modaux et manipulez la puissance des verbes anglais.",
                image: "./images/modaux.webp",
                url: "./modaux.html",
                level: "advanced",
                tags: ["Modals", "Verbs", "Advanced"],
                icon: "üîÆ"
            }
        ];

        // Fonction pour cr√©er une carte
        function createCard(item, isGame = true) {
            // Couleurs pour les difficult√©s des jeux
            const difficultyColors = {
                legendary: 'bg-gradient-to-r from-purple-800 via-purple-600 to-purple-900 text-white border border-purple-400/50',
                epic: 'bg-gradient-to-r from-blue-800 via-blue-600 to-blue-900 text-white border border-blue-400/50',
                rare: 'bg-gradient-to-r from-emerald-800 via-emerald-600 to-emerald-900 text-white border border-emerald-400/50',
                common: 'bg-gradient-to-r from-slate-800 via-slate-600 to-slate-900 text-white border border-slate-400/50'
            };

            // Couleurs pour les niveaux des cours
            const levelColors = {
                advanced: 'bg-gradient-to-r from-red-800 via-red-600 to-red-900 text-white border border-red-400/50',
                intermediate: 'bg-gradient-to-r from-amber-600 via-amber-500 to-amber-700 text-white border border-amber-400/50',
                basic: 'bg-gradient-to-r from-teal-800 via-teal-600 to-teal-900 text-white border border-teal-400/50'
            };

            // Styles des tags selon le type
            const tagStyles = {
                game: {
                    verbs: 'bg-gradient-to-r from-rose-900/90 via-rose-800/90 to-rose-900/90 text-rose-200 border-rose-700/50',
                    time: 'bg-gradient-to-r from-amber-900/90 via-amber-800/90 to-amber-900/90 text-amber-200 border-amber-700/50',
                    grammar: 'bg-gradient-to-r from-emerald-900/90 via-emerald-800/90 to-emerald-900/90 text-emerald-200 border-emerald-700/50',
                    vocabulary: 'bg-gradient-to-r from-violet-900/90 via-violet-800/90 to-violet-900/90 text-violet-200 border-violet-700/50',
                    memory: 'bg-gradient-to-r from-cyan-900/90 via-cyan-800/90 to-cyan-900/90 text-cyan-200 border-cyan-700/50',
                    puzzle: 'bg-gradient-to-r from-indigo-900/90 via-indigo-800/90 to-indigo-900/90 text-indigo-200 border-indigo-700/50',
                    default: 'bg-gradient-to-r from-blue-900/90 via-blue-800/90 to-blue-900/90 text-blue-200 border-blue-700/50'
                },
                course: {
                    grammar: 'bg-gradient-to-r from-sky-900/90 via-sky-800/90 to-sky-900/90 text-sky-200 border-sky-700/50',
                    advanced: 'bg-gradient-to-r from-red-900/90 via-red-800/90 to-red-900/90 text-red-200 border-red-700/50',
                    comparison: 'bg-gradient-to-r from-purple-900/90 via-purple-800/90 to-purple-900/90 text-purple-200 border-purple-700/50',
                    time: 'bg-gradient-to-r from-amber-900/90 via-amber-800/90 to-amber-900/90 text-amber-200 border-amber-700/50',
                    prepositions: 'bg-gradient-to-r from-teal-900/90 via-teal-800/90 to-teal-900/90 text-teal-200 border-teal-700/50',
                    default: 'bg-gradient-to-r from-blue-900/90 via-blue-800/90 to-blue-900/90 text-blue-200 border-blue-700/50'
                }
            };

            // Style du bouton selon le type
            const buttonStyle = isGame ?
                'bg-gradient-to-r from-quest-gold/30 via-quest-gold/20 to-quest-gold/30 hover:from-quest-gold/40 hover:via-quest-gold/30 hover:to-quest-gold/40 text-quest-gold border-quest-gold/50 hover:border-quest-gold' :
                'bg-gradient-to-r from-blue-900/30 via-blue-800/20 to-blue-900/30 hover:from-blue-900/40 hover:via-blue-800/30 hover:to-blue-900/40 text-blue-300 border-blue-500/50 hover:border-blue-400';

            // Fonction pour obtenir le style du tag
            const getTagStyle = (tag) => {
                const styles = isGame ? tagStyles.game : tagStyles.course;
                const key = tag.toLowerCase();
                return styles[key] || styles.default;
            };

            return `
                <div class="game-card bg-black/80 border-2 border-quest-gold/80 rounded-lg overflow-hidden w-[450px] 
                            transform transition-all duration-300 hover:border-quest-gold hover:shadow-lg hover:shadow-quest-gold/20">
                    <div class="relative h-52">
                        <img src="${item.image}" alt="${item.title}" 
                             class="w-full h-full object-cover transition-transform duration-300 hover:scale-105">
                        <div class="absolute bottom-3 right-3 px-4 py-1.5 rounded-full text-sm font-bold
                                   ${isGame ? difficultyColors[item.difficulty] : levelColors[item.level]}
                                   flex items-center justify-center min-w-[100px] shadow-lg">
                            ${isGame ? item.difficulty.toUpperCase() : item.level.toUpperCase()}
                        </div>
                    </div>
                    <div class="p-6 bg-gradient-to-b from-black/90 to-black/70">
                        <h3 class="text-2xl font-medieval text-quest-gold mb-3 glow-text-sm">${item.title}</h3>
                        <p class="text-gray-300 mb-4 min-h-[48px]">${item.description}</p>
                        <div class="flex flex-wrap gap-2 mb-8">
                            ${item.tags.map(tag => `
                                <span class="px-3 py-1.5 rounded-full text-sm ${getTagStyle(tag)}
                                           border transition-all duration-300 hover:scale-105 shadow-sm">
                                    ${tag}
                                </span>
                            `).join('')}
                        </div>
                        <a href="${item.url}" 
                           class="block w-full py-3 text-center ${buttonStyle}
                                  font-medieval text-lg border rounded-lg transition-all duration-300
                                  transform hover:-translate-y-1 hover:shadow-lg">
                            <span class="mr-2 text-xl">${item.icon}</span>
                            <span>${isGame ? 'Play Now' : 'Start Training'}</span>
                        </a>
                    </div>
                </div>
            `;
        }

        // Fonction pour mettre √† jour l'affichage
        function updateDisplays() {
            const gameDisplay = document.getElementById('game-display');
            const courseDisplay = document.getElementById('course-display');

            if (gameDisplay) {
                const randomGame = games[Math.floor(Math.random() * games.length)];
                gameDisplay.style.opacity = '0';
                setTimeout(() => {
                    gameDisplay.innerHTML = createCard(randomGame, true);
                    gameDisplay.style.opacity = '1';
                }, 300);
            }

            if (courseDisplay) {
                const randomCourse = courses[Math.floor(Math.random() * courses.length)];
                courseDisplay.style.opacity = '0';
                setTimeout(() => {
                    courseDisplay.innerHTML = createCard(randomCourse, false);
                    courseDisplay.style.opacity = '1';
                }, 300);
            }
        }

        // Initialisation quand la page est charg√©e
        document.addEventListener('DOMContentLoaded', () => {
            // Ajouter les styles de transition
            const style = document.createElement('style');
            style.textContent = `
                #game-display, #course-display {
                    transition: opacity 0.5s ease;
                    min-height: 500px;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                }

                .glow-text-sm {
                    text-shadow: 0 0 10px rgba(201, 170, 113, 0.5);
                }

                .game-card {
                    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 
                                0 2px 4px -1px rgba(0, 0, 0, 0.06);
                }
            `;
            document.head.appendChild(style);

            // Premier affichage
            updateDisplays();

            // Mise √† jour toutes les 5 secondes
            setInterval(updateDisplays, 5000);
        });
    </script>
    <script src="./visit-counter.js" type="module"></script>
</body>
</html>